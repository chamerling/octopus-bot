{"version":3,"sources":["webpack:///src/components/Sidebar.vue","webpack:///./src/components/Sidebar.vue?7dd6","webpack:///src/App.vue","webpack:///./src/components/Sidebar.vue","webpack:///./src/App.vue?ade3","webpack:///./src/App.vue","webpack:///./src/components/Login.vue?2acd","webpack:///./src/components/Login.vue","webpack:///src/components/Login.vue","webpack:///src/components/ChatBot.vue","webpack:///./src/components/ChatBot.vue?036e","webpack:///./src/components/ChatBot.vue","webpack:///src/components/Home.vue","webpack:///./src/components/Home.vue?44b0","webpack:///./src/components/Home.vue","webpack:///./src/components/Emails.vue?3dc8","webpack:///./src/components/Emails.vue","webpack:///src/components/Emails.vue","webpack:///./src/router/index.js","webpack:///./src/modules/email/axios-transport.js","webpack:///./src/modules/email/client.js","webpack:///./src/store/actions.js","webpack:///./src/store/mutation-types.js","webpack:///./src/store/getters.js","webpack:///./src/store/state.js","webpack:///./src/store/plugins.js","webpack:///./src/store/mutations.js","webpack:///./src/store/index.js","webpack:///./src/bot/response.js","webpack:///./src/bot/listener.js","webpack:///./src/bot/bot.js","webpack:///./src/bot/plugin.js","webpack:///./src/bot.js","webpack:///./src/main.js","webpack:///./src/auth/openpaas-jwt.js"],"names":["Sidebar","computed","extends_default","lastname","sidebar","newValue","components_Sidebar","render","_vm","this","_h","$createElement","_c","_self","attrs","fixed","clipped","app","model","value","callback","$$v","expression","staticClass","flat","avatar","src","getUserAvatarUrl","_v","_s","username","staticRenderFns","App","_this","_this2","__webpack_require__","normalizeComponent","selectortype_template_index_0_src_App","id","dark","$auth","ready","check","_e","clipped-left","on","click","$event","stopPropagation","bottom","left","slot","icon","preventDefault","logout","href","target","fluid","fill-height","justify-center","align-center","indeterminate","size","color","src_App","App_normalizeComponent","ssrContext","components_Login","xs12","sm8","md4","prepend-icon","name","label","type","email","required","password","login","src_components_Login","Login_normalizeComponent","then","response","data","ChatBot","reverse","getUserName","components_ChatBot","ref","submit","sendMessage","placeholder","loading","message","progress","height","row","_l","index","key","title","domProps","innerHTML","content","component","tag","Home","ChatBot_normalizeComponent","components_Home","src_components_Home","Home_normalizeComponent","components_Emails","shrink","three-line","from","toUpperCase","class","unread","isUnread","subject","date","preview","emails","length","src_components_Emails","Emails_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","path","meta","auth","AxiosTransport","promiseProvider","classCallCheck_default","possibleConstructorReturn_default","__proto__","get_prototype_of_default","call","url","headers","raw","newPromise","resolve","reject","axios","method","json","catch","err","jmap_client","JMAP_GET_MESSAGES_LIST","EmailClient","_ref","token","client","axios_transport","withAPIUrl","withAuthenticationToken","role","getMailboxes","mailboxes","filter","mailbox","arguments","undefined","limit","sort","getMessageList","inMailboxes","map","collapseThreads","fetchMessages","messageList","getMessages","properties","actions_login","commit","actions_logout","_ref2","dispatch","promise_default","a","actions_resetSession","_ref3","actions_fetchUser","_ref4","get","actions_fetchJWToken","post","actions_setJWTToken","_ref5","actions_fetchLastEmails","_ref6","state","getters","email_client","session","jwtToken","getEmailBaseUrl","getEmails","actions_setSidebar","_ref7","actions_sendBotMessage","_ref8","_","defaultUrl","baseUrl","user","inboxConfiguration","find","configurations","modules","firstname","store_state","bot","messages","list","createdAt","Date","jmapClient","localStorage","getItem","plugins","mutations","_types$AUTHENTICATED$","defineProperty_default","authenticated","authenticating","push","vuex_esm","store","Store","actions","actions_namespaceObject","getters_namespaceObject","strict","Response","match","options","text","send","Listener","pattern","handler","bot_response","console","log","Bot","listeners","forEach","listener","listen","subscribe","mutation","payload","receive","bot_plugin","install","Vue","bot_bot","configure","start","prototype","$bot","src_bot","reply","vuetify_default","vue_axios_min_default","axios_default","defaults","baseURL","config","productionTip","http","refreshData","enabled","fetchData","el","components","template","module","exports","request","req","_setHeaders","Authorization","res","responseURL","endsWith"],"mappings":"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","file":"static/js/app.728d13a3b29385fa61c0.js","sourcesContent":["<template>\n  <v-navigation-drawer fixed clipped app v-model=\"sidebar\">\n    <v-toolbar flat class=\"transparent\">\n      <v-list class=\"pa-0\">\n        <v-list-tile avatar>\n          <v-list-tile-avatar>\n            <img :src=\"getUserAvatarUrl\" >\n          </v-list-tile-avatar>\n          <v-list-tile-content>\n            <v-list-tile-title>{{username}}</v-list-tile-title>\n          </v-list-tile-content>\n        </v-list-tile>\n      </v-list>\n    </v-toolbar>\n    <v-list class=\"pt-0\">\n      <v-divider></v-divider>\n    </v-list>\n  </v-navigation-drawer>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\n\nexport default {\n  computed: {\n    username() {\n      return this.$store.state.session.user && `${this.$store.state.session.user.firstname} ${this.$store.state.session.user.lastname}`;\n    },\n    sidebar: {\n      get: function() {\n        return this.$store.state.sidebar\n      },\n      set: function(newValue) {\n        this.$store.dispatch('setSidebar', newValue);\n      }\n    },\n    ...mapGetters(['getUserAvatarUrl'])\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Sidebar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-navigation-drawer',{attrs:{\"fixed\":\"\",\"clipped\":\"\",\"app\":\"\"},model:{value:(_vm.sidebar),callback:function ($$v) {_vm.sidebar=$$v},expression:\"sidebar\"}},[_c('v-toolbar',{staticClass:\"transparent\",attrs:{\"flat\":\"\"}},[_c('v-list',{staticClass:\"pa-0\"},[_c('v-list-tile',{attrs:{\"avatar\":\"\"}},[_c('v-list-tile-avatar',[_c('img',{attrs:{\"src\":_vm.getUserAvatarUrl}})]),_vm._v(\" \"),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(_vm._s(_vm.username))])],1)],1)],1)],1),_vm._v(\" \"),_c('v-list',{staticClass:\"pt-0\"},[_c('v-divider')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3218526c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Sidebar.vue\n// module id = null\n// module chunks = ","<template>\n  <v-app id=\"app\" dark>\n    <div v-if=\"$auth.ready()\">\n      <sidebar v-if=\"$auth.check()\" />\n      <v-toolbar v-if=\"$auth.check()\" dark fixed clipped-left app>\n        <v-toolbar-side-icon @click.stop=\"sidebar = !sidebar\"></v-toolbar-side-icon>\n        <v-toolbar-title>OctoPus</v-toolbar-title>\n        <v-spacer></v-spacer>\n        <v-menu bottom left>\n          <v-btn icon slot=\"activator\" dark>\n            <v-icon>more_vert</v-icon>\n          </v-btn>\n          <v-list>\n            <v-list-tile v-if=\"$auth.check()\" @click.prevent=\"logout\">\n              <v-list-tile-title>Logout</v-list-tile-title>\n            </v-list-tile>\n            <v-list-tile href=\"https://github.com/chamerling/octopus\" target=\"_blank\">\n              <v-list-tile-title>\n                About\n              </v-list-tile-title>\n            </v-list-tile>\n          </v-list>\n        </v-menu>\n      </v-toolbar>\n      <main>\n        <v-content>\n          <v-container fluid fill-height>\n            <v-layout justify-center align-center>\n              <router-view></router-view>\n            </v-layout>\n          </v-container>\n        </v-content>\n      </main>\n    </div>\n    <div v-if=\"!$auth.ready()\">\n      <v-progress-circular indeterminate :size=\"50\" color=\"primary\"></v-progress-circular>\n    </div>\n  </v-app>\n</template>\n\n<script>\nimport Sidebar from '@/components/Sidebar';\n\nexport default {\n  name: 'App',\n  computed: {\n    sidebar: {\n      get: function() {\n        return this.$store.state.sidebar\n      },\n      set: function(newValue) {\n        this.$store.dispatch('setSidebar', newValue);\n      }\n    }\n  },\n  created () {\n    this.$auth.ready(() => {\n      this.$store.dispatch('fetchUser');\n    });\n  },\n  methods: {\n    login () {\n      this.$router.push({name: 'Login'})\n    },\n    logout () {\n      this.$store.dispatch('logout').then(() => {\n        this.$router.push({name: 'Login'});\n      });\n    }\n  },\n  components: {\n    'Sidebar': Sidebar\n  }\n};\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Sidebar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Sidebar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3218526c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Sidebar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Sidebar.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"app\",\"dark\":\"\"}},[(_vm.$auth.ready())?_c('div',[(_vm.$auth.check())?_c('sidebar'):_vm._e(),_vm._v(\" \"),(_vm.$auth.check())?_c('v-toolbar',{attrs:{\"dark\":\"\",\"fixed\":\"\",\"clipped-left\":\"\",\"app\":\"\"}},[_c('v-toolbar-side-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.sidebar = !_vm.sidebar}}}),_vm._v(\" \"),_c('v-toolbar-title',[_vm._v(\"OctoPus\")]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-menu',{attrs:{\"bottom\":\"\",\"left\":\"\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"icon\":\"\",\"dark\":\"\"},slot:\"activator\"},[_c('v-icon',[_vm._v(\"more_vert\")])],1),_vm._v(\" \"),_c('v-list',[(_vm.$auth.check())?_c('v-list-tile',{on:{\"click\":function($event){$event.preventDefault();_vm.logout($event)}}},[_c('v-list-tile-title',[_vm._v(\"Logout\")])],1):_vm._e(),_vm._v(\" \"),_c('v-list-tile',{attrs:{\"href\":\"https://github.com/chamerling/octopus\",\"target\":\"_blank\"}},[_c('v-list-tile-title',[_vm._v(\"\\n              About\\n            \")])],1)],1)],1)],1):_vm._e(),_vm._v(\" \"),_c('main',[_c('v-content',[_c('v-container',{attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"justify-center\":\"\",\"align-center\":\"\"}},[_c('router-view')],1)],1)],1)],1)],1):_vm._e(),_vm._v(\" \"),(!_vm.$auth.ready())?_c('div',[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":50,\"color\":\"primary\"}})],1):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5f145572\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5f145572\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5f145572\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-content',[_c('v-container',{attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm8\":\"\",\"md4\":\"\"}},[_c('v-card',{staticClass:\"elevation-12\"},[_c('v-toolbar',[_c('v-toolbar-title',[_vm._v(\"OpenPaaS Login\")])],1),_vm._v(\" \"),_c('v-card-text',[_c('v-form',[_c('v-text-field',{attrs:{\"prepend-icon\":\"person\",\"name\":\"login\",\"label\":\"Login\",\"type\":\"text\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"prepend-icon\":\"lock\",\"name\":\"password\",\"label\":\"Password\",\"id\":\"password\",\"type\":\"password\",\"required\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)],1),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{on:{\"click\":_vm.login}},[_vm._v(\"Login\")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6c12ee66\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Login.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6c12ee66\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Login.vue\n// module id = null\n// module chunks = ","<template>\n    <v-content>\n      <v-container fluid fill-height>\n        <v-layout align-center justify-center>\n          <v-flex xs12 sm8 md4>\n            <v-card class=\"elevation-12\">\n              <v-toolbar>\n                <v-toolbar-title>OpenPaaS Login</v-toolbar-title>\n              </v-toolbar>\n              <v-card-text>\n                <v-form>\n                  <v-text-field prepend-icon=\"person\" name=\"login\" label=\"Login\" type=\"text\" v-model=\"email\"></v-text-field>\n                  <v-text-field prepend-icon=\"lock\" name=\"password\" label=\"Password\" id=\"password\" type=\"password\" v-model=\"password\" required></v-text-field>\n                </v-form>\n              </v-card-text>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn @click=\"login\">Login</v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-flex>\n        </v-layout>\n      </v-container>\n    </v-content>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      email: null,\n      password: null\n    };\n  },\n  methods: {\n    login() {\n      this.$auth.login({\n        url: 'api/jwt/generate',\n        auth: {\n          username: this.email,\n          password: this.password\n        },\n        rememberMe: false,\n        redirect: { name: 'Home' },\n        //fetchUser: false\n      })\n        .then((response) => {\n          this.$store.dispatch('setJWTToken', response.data);\n          // TODO Fetch user CAN BE DONE BY vue-auth\n          this.$store.dispatch('fetchUser');\n          return response.data;\n        }, (err) => {\n          // TODO: Set error and display a message\n        });\n    }\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Login.vue","<template>\n  <v-container fluid>\n    <v-form ref=\"form\" v-on:submit.prevent=\"sendMessage\">\n      <v-text-field\n        color=\"cyan darken\"\n        placeholder=\"Ask the bot...\"\n        v-model=\"message\"\n        loading\n      >\n        <v-progress-linear\n          slot=\"progress\"\n          :value=\"progress\"\n          height=\"7\"\n          :color=\"color\"\n        ></v-progress-linear>\n      </v-text-field>\n    </v-form>\n    <v-layout row>\n    <v-flex xs12>\n      <v-card>\n        <v-list>\n          <template v-for=\"(message, index) in messages\">\n            <v-list-tile avatar :key=\"message.title\">\n              <v-list-tile-avatar v-if=\"message.type === 'user'\">\n                <img :src=\"getUserAvatarUrl\">\n              </v-list-tile-avatar>\n              <v-list-tile-avatar v-if=\"message.type === 'bot'\">\n                <v-avatar :size=\"50\">\n                  <span class=\"botavatar\">🐙</span>\n                </v-avatar>\n              </v-list-tile-avatar>\n              <v-list-tile-content>\n                <v-list-tile-title v-html=\"message.content\"></v-list-tile-title>\n              </v-list-tile-content>\n            </v-list-tile>\n            <component :key=\"message.title\" v-if=\"message.component\" :is=\"message.component\"></component>\n          </template>\n        </v-list>\n      </v-card>\n    </v-flex>\n  </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'ChatBot',\n  data:() => ({\n    message: '',\n  }),\n  computed: {\n    messages() {\n      return this.$store.state.bot.messages.list.slice().reverse();\n    },\n    progress() {\n      return Math.min(100, this.message.length * 10)\n    },\n    color() {\n      return ['error', 'warning', 'success'][Math.floor(this.progress / 40)]\n    },\n    ...mapGetters(['getUserAvatarUrl'])\n  },\n  methods: {\n    sendMessage() {\n      this.$store.dispatch('sendBotMessage', { content: this.message, createdAt: new Date(), type: 'user' });\n      this.message = '';\n    }\n  },\n  created() {\n    this.$bot.listen(/beer/, {}, (message) => {\n      message.replyText('Cheers 🍺');\n    });\n\n    this.$bot.listen(/who/, {}, (message) => {\n      message.replyText(`You are ${this.$store.getters.getUserName}`);\n    });\n  }\n};\n</script>\n\n<style scoped>\n  .botavatar {\n    font-size: 40px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ChatBot.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();_vm.sendMessage($event)}}},[_c('v-text-field',{attrs:{\"color\":\"cyan darken\",\"placeholder\":\"Ask the bot...\",\"loading\":\"\"},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}},[_c('v-progress-linear',{attrs:{\"slot\":\"progress\",\"value\":_vm.progress,\"height\":\"7\",\"color\":_vm.color},slot:\"progress\"})],1)],1),_vm._v(\" \"),_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-card',[_c('v-list',[_vm._l((_vm.messages),function(message,index){return [_c('v-list-tile',{key:message.title,attrs:{\"avatar\":\"\"}},[(message.type === 'user')?_c('v-list-tile-avatar',[_c('img',{attrs:{\"src\":_vm.getUserAvatarUrl}})]):_vm._e(),_vm._v(\" \"),(message.type === 'bot')?_c('v-list-tile-avatar',[_c('v-avatar',{attrs:{\"size\":50}},[_c('span',{staticClass:\"botavatar\"},[_vm._v(\"🐙\")])])],1):_vm._e(),_vm._v(\" \"),_c('v-list-tile-content',[_c('v-list-tile-title',{domProps:{\"innerHTML\":_vm._s(message.content)}})],1)],1),_vm._v(\" \"),(message.component)?_c(message.component,{key:message.title,tag:\"component\"}):_vm._e()]})],2)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4a1eefc2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ChatBot.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4a1eefc2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ChatBot.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChatBot.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChatBot.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4a1eefc2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ChatBot.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4a1eefc2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ChatBot.vue\n// module id = null\n// module chunks = ","<template>\n  <chat-bot/>\n</template>\n\n<script>\nimport ChatBot from '@/components/ChatBot.vue';\n\nexport default {\n  name: 'Home',\n  components: {\n    'chat-bot': ChatBot\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Home.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('chat-bot')}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0fb9963d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Home.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0fb9963d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Home.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"shrink\":\"\"}},[_c('v-list',{attrs:{\"three-line\":\"\"}},[_vm._l((_vm.emails),function(email,index){return [_c('v-list-tile',{key:email.id,staticClass:\"email\",attrs:{\"avatar\":\"\"}},[_c('v-list-tile-avatar',[_c('v-avatar',{staticClass:\"red\",attrs:{\"size\":40}},[_c('span',{staticClass:\"white--text headline\"},[_vm._v(_vm._s(email.from.email[0].toUpperCase()))])])],1),_vm._v(\" \"),_c('v-list-tile-content',[_c('v-list-tile-title',{class:{ unread: email.isUnread },domProps:{\"innerHTML\":_vm._s(email.subject)}}),_vm._v(\" \"),_c('v-list-tile-sub-title',{staticClass:\"text--primary\"},[_vm._v(_vm._s(email.from.email)+\" - \"+_vm._s(email.date))]),_vm._v(\" \"),_c('v-list-tile-sub-title',{domProps:{\"innerHTML\":_vm._s(email.preview)}})],1)],1),_vm._v(\" \"),(index + 1 < _vm.emails.length)?_c('v-divider',{key:index}):_vm._e()]})],2)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-640dd25b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Emails.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-640dd25b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Emails.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Emails.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Emails.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-640dd25b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Emails.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-640dd25b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Emails.vue\n// module id = null\n// module chunks = ","<template>\n <v-layout row>\n    <v-flex shrink>\n      <v-list three-line>\n        <template v-for=\"(email, index) in emails\">\n          <v-list-tile avatar :key=\"email.id\" class=\"email\">\n            <v-list-tile-avatar>\n              <v-avatar class=\"red\" :size=\"40\">\n                <span class=\"white--text headline\">{{email.from.email[0].toUpperCase()}}</span>\n              </v-avatar>\n            </v-list-tile-avatar>\n            <v-list-tile-content>\n              <v-list-tile-title v-bind:class=\"{ unread: email.isUnread }\" v-html=\"email.subject\"></v-list-tile-title>\n              <v-list-tile-sub-title class=\"text--primary\">{{email.from.email}} - {{email.date}}</v-list-tile-sub-title>\n              <v-list-tile-sub-title v-html=\"email.preview\"></v-list-tile-sub-title>\n            </v-list-tile-content>\n          </v-list-tile>\n          <v-divider v-if=\"index + 1 < emails.length\" :key=\"index\"></v-divider>\n        </template>\n      </v-list>\n    </v-flex>\n </v-layout>\n</template>\n<script>\nexport default {\n  name: 'Emails',\n  computed: {\n    emails() {\n      return this.$store.state.emails.list.slice().reverse();\n    }\n  },\n  mounted() {\n    this.$store.dispatch('fetchLastEmails');\n  }\n};\n</script>\n<style scoped>\n  .email {\n    margin-top: 10px;\n    margin-bottom: 10px;\n  }\n  .unread {\n    font-weight: 800;\n  }\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/Emails.vue","import Vue from 'vue';\nimport Router from 'vue-router';\nimport Login from '@/components/Login';\nimport Home from '@/components/Home';\nimport Emails from '@/components/Emails';\n\nVue.use(Router);\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Home',\n      component: Home,\n      meta: {\n        auth: true\n      }\n    },\n    {\n      path: '/login',\n      name: 'Login',\n      component: Login,\n      meta: {\n        auth: false\n      }\n    },\n    {\n      path: '/emails',\n      name: 'Emails',\n      component: Emails,\n      meta: {\n        auth: true\n      }\n    }\n  ]\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import { Transport } from 'jmap-client';\nimport * as axios from 'axios';\n\nexport default class AxiosTransport extends Transport {\n  /**\n   * A {@link Transport} implementation for [Request]{@link https://github.com/request/request}.<br />\n   * This class requires `request` to be installed as dependency.\n   *\n   * @constructor\n   *\n   * @param [promiseProvider=null] {PromiseProvider} A {@link PromiseProvider} implementation.\n   *\n   * @see Transport\n   */\n  constructor(promiseProvider) {\n    super();\n\n    this.promiseProvider = promiseProvider;\n  }\n\n  post(url, headers, data, raw) {\n    return this.promiseProvider.newPromise((resolve, reject) => {\n      axios({\n        url,\n        headers,\n        method: 'post',\n        data,\n        json: !raw\n      })\n        .then(response => resolve(response.data))\n        .catch(err => reject(err));\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/email/axios-transport.js","import * as jmap from 'jmap-client';\nimport AxiosTransport from './axios-transport';\n\nconst JMAP_GET_MESSAGES_LIST = [\n  'id', 'blobId', 'threadId', 'headers', 'subject', 'from', 'to', 'cc', 'bcc', 'replyTo', 'preview', 'date', 'isUnread', 'isFlagged', 'isDraft', 'hasAttachment', 'mailboxIds'\n];\n\nexport default class EmailClient {\n  constructor({ url, token }) {\n    this.url = url;\n    this.token = `Bearer ${token}`;\n\n    this.client = new jmap.Client(new AxiosTransport())\n      .withAPIUrl(this.url)\n      .withAuthenticationToken(this.token);\n  }\n\n  getMailboxes(role) {\n    return this.client.getMailboxes()\n      .then(mailboxes => mailboxes.filter(mailbox => mailbox.role && mailbox.role.value === role));\n  }\n\n  getEmails(role = 'inbox', limit = 10, sort = ['date desc']) {\n    return this.getMailboxes(role)\n      .then((mailboxes) => {\n        return this.client.getMessageList({\n          filter: { inMailboxes: mailboxes.map(mailbox => mailbox.id) },\n          collapseThreads: false,\n          fetchMessages: false,\n          limit,\n          sort\n        })\n          .then(messageList => messageList.getMessages({ properties: JMAP_GET_MESSAGES_LIST }));\n      });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/email/client.js","import Vue from 'vue';\nimport * as types from './mutation-types';\nimport EmailClient from '../modules/email/client';\n\nexport const login = ({ commit }) => {\n  commit(types.AUTHENTICATING, true);\n  commit(types.AUTHENTICATED, true);\n};\n\nexport const logout = ({ dispatch }) => new Promise((resolve) => {\n  Vue.auth.logout();\n  dispatch('resetSession');\n  resolve();\n});\n\nexport const resetSession = ({ commit, dispatch }) => {\n  // TODO, should reset the whole store\n  commit(types.FETCH_USER, {});\n  dispatch('setJWTToken', null);\n};\n\nexport const fetchUser = ({ commit }) => {\n  Vue.axios.get('api/user').then((response) => {\n    commit(types.FETCH_USER, response.data);\n  });\n};\n\nexport const fetchJWToken = () => Vue.axios.post('api/jwt/generate').then(response => response.data);\n\nexport const setJWTToken = ({ commit }, token) => {\n  commit(types.SET_JWT_TOKEN, token);\n};\n\nexport const fetchLastEmails = ({ commit, state, getters }) => {\n  const client = new EmailClient({ token: state.session.jwtToken, url: getters.getEmailBaseUrl });\n\n  client.getEmails().then(emails => commit(types.FETCH_LAST_EMAILS, emails));\n};\n\n// UI\n\nexport const setSidebar = ({ commit }, value) => {\n  commit(types.SET_SIDERBAR, value);\n};\n\nexport const sendBotMessage = ({ commit }, message) => {\n  commit(types.SEND_BOT_MESSAGE, message);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","export const AUTHENTICATED = 'AUTHENTICATED';\nexport const AUTHENTICATING = 'AUTHENTICATING';\nexport const FETCH_USER = 'FETCH_USER';\nexport const FETCH_LAST_EMAILS = 'FETCH_LAST_EMAILS';\nexport const SET_JWT_TOKEN = 'SET_JWT_TOKEN';\nexport const SET_SIDERBAR = 'SET_SIDERBAR';\nexport const SEND_BOT_MESSAGE = 'SEND_BOT_MESSAGE';\nexport const ON_BOT_MESSAGE = 'ON_BOT_MESSAGE';\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutation-types.js","const _ = require('lodash');\n\nexport const getEmailBaseUrl = state => {\n  const defaultUrl = state.baseUrl + '/jmap';\n\n  if (state.session.user) {\n    const inboxConfiguration = _.find(state.session.user.configurations.modules, { name: 'linagora.esn.unifiedinbox' });\n\n    return _.find(inboxConfiguration.configurations, { name: 'api' }).value || defaultUrl;\n  }\n\n  return defaultUrl;\n};\n\nexport const getUserAvatarUrl = state => `${state.baseUrl}/api/user/profile/avatar`;\n\nexport const getUserName = state => state.session.user && `${state.session.user.firstname} ${state.session.user.lastname}`;\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","export default {\n  sidebar: true,\n  // checkk webpack config\n  baseUrl: process.env.OPENPAAS,\n  bot: {\n    messages: {\n      list: [\n        {\n          content: 'Hello! What can I do?',\n          createdAt: new Date(),\n          type: 'bot'\n        }\n      ]\n    }\n  },\n  emails: {\n    list: [],\n    jmapClient: null\n  },\n  session: {\n    jwtToken: localStorage.getItem('default_auth_token'),\n    user: null\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/state.js","import createLogger from 'vuex/dist/logger';\n\nexport default process.env.NODE_ENV !== 'production' ? [createLogger()] : [];\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/plugins.js","import * as types from './mutation-types';\n\nexport default {\n  [types.AUTHENTICATED](state, value) {\n    state.session.authenticated = value;\n  },\n\n  [types.AUTHENTICATING](state, value) {\n    state.session.authenticating = value;\n  },\n\n  [types.FETCH_USER](state, value) {\n    state.session.user = value;\n  },\n\n  [types.FETCH_LAST_EMAILS](state, emails) {\n    state.emails.list = emails;\n  },\n\n  [types.SET_JWT_TOKEN](state, value) {\n    state.session.jwtToken = value;\n  },\n\n  [types.SET_SIDERBAR](state, value) {\n    state.sidebar = value;\n  },\n\n  [types.SEND_BOT_MESSAGE](state, message) {\n    state.bot.messages.list.push(message);\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","import Vue from 'vue';\nimport Vuex from 'vuex';\n\nimport * as actions from './actions';\nimport * as getters from './getters';\nimport state from './state';\nimport plugins from './plugins';\nimport mutations from './mutations';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state,\n  actions,\n  getters,\n  mutations,\n  plugins,\n  strict: process.env.NODE_ENV !== 'production'\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","export default class Response {\n  constructor(bot, message, match, options) {\n    this.bot = bot;\n    this.message = message;\n    this.match = match;\n    this.options = options;\n  }\n\n  replyText(text) {\n    this.bot.send({ content: text });\n  }\n\n  reply(content) {\n    this.bot.send(content);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/bot/response.js","import Response from './response';\n\nexport default class Listener {\n  constructor(bot, pattern, options, handler) {\n    this.bot = bot;\n    this.pattern = pattern;\n    this.options = options;\n    this.handler = handler;\n  }\n\n  receive(message) {\n    const text = message.content;\n    let match;\n\n    if (typeof this.pattern === 'function') {\n      match = this.pattern.match(text, this.bot);\n    } else {\n      match = text.match(this.pattern);\n    }\n\n    if (!match) {\n      console.log('Text does not match pattern');\n\n      return;\n    }\n\n    this.handler(new Response(this.bot, message, match, this.options));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/bot/listener.js","import Listener from './listener';\n\nexport default class Bot {\n  constructor(options) {\n    this.options = options;\n    this.store = options.store;\n    this.listeners = [];\n  }\n\n  configure(listeners) {\n    listeners.forEach(listener => this.listen(listener.pattern, listener.options || {}, listener.handler || function defaultHandler() {}));\n  }\n\n  listen(pattern, options, handler) {\n    this.listeners.push(new Listener(this, pattern, options, handler));\n  }\n\n  start() {\n    // TODO: watch a value, or subscribe to actions, make type configurable\n    this.store.subscribe((mutation) => {\n      if (mutation.type === 'SEND_BOT_MESSAGE') {\n        const { payload } = mutation;\n        const { type } = payload;\n\n        if (type === 'user') {\n          this.listeners.forEach(listener => listener.receive(payload));\n          // TODO: Check when no one replied\n        }\n      }\n    });\n  }\n\n  send(message = {}) {\n    message.type = message.type || 'bot';\n    message.createdAt = message.createdAt || new Date();\n    message.content = message.content || 'I can not say anything...';\n\n    this.store.commit('SEND_BOT_MESSAGE', message);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/bot/bot.js","import Bot from './bot';\n\nexport default {\n  install(Vue, options) {\n    console.log('Installing VueBot...', options);\n    const bot = new Bot(options);\n\n    if (options.listeners && options.listeners.length) {\n      bot.configure(options.listeners);\n    }\n\n    bot.start();\n    Vue.prototype.$bot = bot;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/bot/plugin.js","import Emails from '@/components/Emails';\n\nexport default {\n  listeners: [\n    {\n      pattern: /last email/,\n      handler: (message) => {\n        message.reply({\n          content: 'Here are your last emails:',\n          component: Emails\n        });\n      }\n    }\n  ]\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/bot.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport Vuetify from 'vuetify';\nimport VueAxios from 'vue-axios';\nimport axios from 'axios';\n\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\nimport VueBot from './bot/plugin';\nimport bot from './bot';\nimport './main.styl';\n\nVue.use(VueBot, {\n  store,\n  listeners: bot.listeners\n});\nVue.use(Vuetify);\nVue.use(VueAxios, axios);\nVue.router = router;\naxios.defaults.baseURL = store.state.baseUrl;\n\nVue.config.productionTip = false;\n\nVue.use(require('@websanova/vue-auth'), {\n  auth: require('./auth/openpaas-jwt'),\n  http: require('@websanova/vue-auth/drivers/http/axios.1.x'),\n  router: require('@websanova/vue-auth/drivers/router/vue-router.2.x'),\n  refreshData: {\n    enabled: false\n  },\n  fetchData: {\n    url: 'api/user',\n    method: 'GET',\n    enabled: true\n  }\n});\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","// openpaas does not send back JWT token in response header,\n// so we need to create a new plugin for vue-auth\n// It sends back the tokek which is in jwt/generate response\n\nmodule.exports = {\n  request(req, token) {\n    this.options.http._setHeaders.call(this, req, { Authorization: `Bearer  ${token}` });\n  },\n\n  response(res) {\n    if (res.request.responseURL.endsWith('jwt/generate')) {\n      return res.data;\n    }\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/auth/openpaas-jwt.js"],"sourceRoot":""}